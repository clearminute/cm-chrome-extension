(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={"focus-session-progress":"focus-session_focus-session-progress__3Cnlh","focus-session-achieved":"focus-session_focus-session-achieved__39qW8",logo:"focus-session_logo__3_HPX",buttons:"focus-session_buttons__y8zny",title:"focus-session_title__364AJ",button:"focus-session_button__2CpNl","button-cancel":"focus-session_button-cancel__2xCNz","button-break":"focus-session_button-break__3ql7f","button-configure":"focus-session_button-configure__2Nsa1"}},11:function(e,t,a){e.exports=a.p+"static/media/logo.083d77cc.svg"},148:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(50),s=a.n(i),o=(a(57),a(3)),r=a(1),l=a.n(r);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(e/3600),a=Math.floor(e%3600/60);return t?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")}var m=a(11),_=a.n(m),f="pcenfiemkfldlchmgcohjkfhppckocne"===chrome.runtime.id,E=chrome.runtime.id||"jnageejbpihkkjocjeiiohnednodaici",v=1800,d=1770;function g(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],i=u(v-a),s=Object(n.useContext)(G),r=Object(o.a)(s,2),m=(r[0],r[1]);return Object(n.useEffect)(function(){var e=setInterval(function(){chrome.runtime.sendMessage(E,{type:"GET_CURRENT_FOCUS_SESSION_TIME"},function(e){c(e.value)})},500);return chrome.runtime.sendMessage(E,{type:"START_FOCUS_SESSION"}),function(){clearInterval(e),chrome.runtime.sendMessage(E,{type:"STOP_FOCUS_SESSION"})}},[]),n.createElement(n.Fragment,null,a>=v&&n.createElement("div",{className:l.a["focus-session-achieved"]},n.createElement("header",null,n.createElement("img",{src:_.a,className:l.a.logo,alt:"clearminute logo"})),n.createElement("main",null,a>=d&&n.createElement("h2",{className:l.a.title},u(a-v)," ",n.createElement("br",null)," bonus")),n.createElement("section",{className:l.a.buttons},n.createElement("button",{className:[l.a.button,l.a["button-break"]].join(" "),onClick:function(){return m({view:"HOME"})}},"Take a break"),n.createElement("button",{className:[l.a.button,l.a["button-configure"]].join(" "),onClick:function(){chrome.tabs.create({url:"https://light.clearminute.com/#/activities"})}},"Configure Apps"))),a<v&&n.createElement("div",{className:l.a["focus-session-progress"]},n.createElement("header",null,n.createElement("img",{src:_.a,className:l.a.logo,alt:"clearminute logo"})),n.createElement("main",null,a>=d&&n.createElement("h2",{className:l.a.title},v-a,"s ",n.createElement("br",null)," remaining"),a>0&&a<d&&n.createElement("h2",{className:l.a.title},i," ",n.createElement("br",null)," remaining")),n.createElement("section",{className:l.a.buttons},n.createElement("button",{className:[l.a.button,l.a["button-cancel"]].join(" "),onClick:function(){return m({view:"HOME"})}},"Cancel Session"),n.createElement("button",{className:[l.a.button,l.a["button-configure"]].join(" "),onClick:function(){chrome.tabs.create({url:"https://light.clearminute.com/#/activities"})}},"Configure Apps"))))}var h=a(5),p=a.n(h),b={focusTime:0};function T(e,t){switch(t.type){case"SET_TODAY_FOCUS_TIME":return{focusTime:t.value};default:throw new Error}}function O(){var e=Object(n.useReducer)(T,b),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useContext)(G),s=Object(o.a)(i,2)[1],r=u(a.focusTime);return Object(n.useEffect)(function(){chrome.runtime.sendMessage(E,{type:"GET_TODAY_FOCUS_TIME"},function(e){c({type:"SET_TODAY_FOCUS_TIME",value:e.value})})},[]),n.createElement("div",{className:p.a.container},n.createElement("h3",{className:p.a.title}," DEEP FOCUS TODAY "),n.createElement("h1",{className:p.a.focusTime}," ",r),n.createElement("p",{className:p.a.description},"Let's get started with ",n.createElement("br",null)," your first session today!"),n.createElement("button",{className:p.a.button,onClick:function(){return s({type:"SET_VIEW",view:"FOCUS_SESSION"})}},"Quick Start"),n.createElement("a",{className:p.a.link,href:"https://www.clearminute.com/blog/posts/uninterrupted-focus",target:"_blank",rel:"noopener noreferrer"},"WHY DO I NEED DEEP FOCUS?"))}var N=a(2),y=a.n(N),S=a(6),w=a.n(S),j=a(12),C=a.n(j),k=a(51),I=a.n(k);function D(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 0===t?a:e/t}var M="productive",A="slightlyProductive",P="neutral",x="slightlyDistracting",H="distracting",U="unassigned";var F=function(e){var t=e.productive,a=e.neutral,n=e.distracting,c=e.slightlyDistracting,i=e.slightlyProductive,s=e.unassigned,o=1*t.totalTime+.75*i.totalTime+.5*(a.totalTime+s.totalTime)+.25*c.totalTime,r=t.totalTime+i.totalTime+a.totalTime+c.totalTime+n.totalTime+s.totalTime;return"".concat(parseInt(100*(0===r?.5:o/r),10))};function R(){var e=Object(n.useState)(50),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),r=s[0],l=s[1];return Object(n.useEffect)(function(){var e={from:(new Date).setHours(0,0,0,0),until:(new Date).setHours(23,59,59,59)};console.log("send message from popup!"),chrome.runtime.sendMessage(E,{type:"LOAD_STATS",message:e},function(e){var t=function(e){var t=0,a=0,n=0,c=0,i=0,s=0;C()(e,function(e){C()(e,function(e){C()(e,function(e){C()(e,function(e){t+=w()(e,M,0),i+=w()(e,A,0),a+=w()(e,P,0),n+=w()(e,H,0),s+=w()(e,x,0),c+=w()(e,U,0)})})})});var o=t+a+n+s+c+i,r=I()(D,o);return{totalTime:o,productive:{totalTime:t,percentage:r(t)},slightlyProductive:{totalTime:i,percentage:r(i)},neutral:{totalTime:a,percentage:r(a)},unassigned:{totalTime:c,percentage:r(c)},slightlyDistracting:{totalTime:s,percentage:r(s)},distracting:{totalTime:n,percentage:r(n)}}}(e.aggregated_context.statsByHour),a=F(t);c(a),l(e.aggregated_context.topActivities)})},[]),Object(n.useEffect)(function(){window.twttr=function(e,t,a){var n,c=e.getElementsByTagName(t)[0],i=window.twttr||{};return e.getElementById(a)?i:((n=e.createElement(t)).id=a,n.src="https://platform.twitter.com/widgets.js",c.parentNode.insertBefore(n,c),i._e=[],i.ready=function(e){i._e.push(e)},i)}(document,"script","twitter-wjs")},[]),console.log(r),n.createElement("div",{className:y.a.container},n.createElement("h3",{className:y.a.title}," PRODUCTIVITY SCORE "),n.createElement("h1",{className:y.a["productivity-score"]}," ",a,"% "),n.createElement("h4",{className:y.a.subtitle}," TOP ACTIVITIES TODAY "),n.createElement("ul",{className:y.a.activities},r.slice(0,3).map(function(e){return n.createElement("li",{className:[y.a.activity].join(" ")},n.createElement("div",{className:[y.a.activityDot,y.a[e.productivityKey]].join(" ")}),n.createElement("div",{className:y.a.activityTitle}," ",e.title," "),n.createElement("div",{className:y.a.activityTime}," ",u(e.seconds)," "))})),n.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?text=Hello%20world"},"Tweet"),n.createElement("a",{className:y.a.link,href:f?"https://light.clearminute.com":"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"},"OPEN DASHBOARD TO SEE MORE"))}var W=a(7),Y=a.n(W);function B(){return n.createElement("div",{className:Y.a.home},n.createElement("header",{className:Y.a.header},n.createElement("img",{src:_.a,className:Y.a.logo,alt:"clearminute logo"}),n.createElement("h2",{className:Y.a.title},n.createElement("span",{className:Y.a.thin},"clear"),"minute")),n.createElement("main",{className:Y.a.main},n.createElement(O,null),n.createElement(R,null)))}var G=c.a.createContext();function V(e,t){if(t.type="SET_VIEW")return{view:t.view}}var X=function(){var e=Object(n.useReducer)(V,{view:""}),t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)(function(){chrome.runtime.sendMessage(E,{type:"GET_VIEW"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"HOME"};i({type:"SET_VIEW",view:e.value})})},[]),c.a.createElement(G.Provider,{value:[a,i]},!f&&"DEVELOPMENT","HOME"===a.view&&c.a.createElement(B,null),"FOCUS_SESSION"===a.view&&c.a.createElement(g,null))};s.a.render(c.a.createElement(X,null),document.getElementById("root"))},2:function(e,t,a){e.exports={container:"stats_container__oCHiJ",title:"stats_title__X19B8","productivity-score":"stats_productivity-score__24X9F",description:"stats_description__3cwTk",link:"stats_link__4nWXI",subtitle:"stats_subtitle__bmGD2",activities:"stats_activities__1IrQk",activity:"stats_activity__1P2Sm",activityTitle:"stats_activityTitle__2USwW",activityTime:"stats_activityTime__T3PZu",productive:"stats_productive__3fpg7",slightlyProductive:"stats_slightlyProductive__1XCWj",distracting:"stats_distracting__Dfyxq",neutral:"stats_neutral__KlYoI",activityDot:"stats_activityDot__14zh7"}},5:function(e,t,a){e.exports={container:"focus_container__3ax7R",title:"focus_title__2s14H",focusTime:"focus_focusTime__1G_yX",description:"focus_description__3ey62",button:"focus_button__1CyiG",link:"focus_link__1d-Mj"}},52:function(e,t,a){e.exports=a(148)},57:function(e,t,a){},7:function(e,t,a){e.exports={home:"home_home__3JAmW",main:"home_main__1y6Mr",header:"home_header__eMAwu",logo:"home_logo__3AjCd",title:"home_title__3joff",thin:"home_thin__pm8GN"}}},[[52,1,2]]]);
//# sourceMappingURL=main.972d5c6b.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={"focus-session-progress":"focus-session_focus-session-progress__3Cnlh","focus-session-achieved":"focus-session_focus-session-achieved__39qW8",logo:"focus-session_logo__3_HPX",buttons:"focus-session_buttons__y8zny",title:"focus-session_title__364AJ",button:"focus-session_button__2CpNl","button-cancel":"focus-session_button-cancel__2xCNz","button-break":"focus-session_button-break__3ql7f","button-configure":"focus-session_button-configure__2Nsa1"}},11:function(e,t,a){e.exports=a.p+"static/media/logo.083d77cc.svg"},148:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(50),i=a.n(s),o=(a(57),a(3)),r=a(1),l=a.n(r);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(e/3600),a=Math.floor(e%3600/60);return t?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")}var m=a(11),_=a.n(m),f="pcenfiemkfldlchmgcohjkfhppckocne"===chrome.runtime.id,E=chrome.runtime.id,v=1800,p=1770;function d(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],s=u(v-a),i=Object(n.useContext)(Y),r=Object(o.a)(i,2),m=(r[0],r[1]);return Object(n.useEffect)(function(){var e=setInterval(function(){chrome.runtime.sendMessage(E,{type:"GET_CURRENT_FOCUS_SESSION_TIME"},function(e){c(e.value)})},500);return chrome.runtime.sendMessage(E,{type:"START_FOCUS_SESSION"}),function(){clearInterval(e),chrome.runtime.sendMessage(E,{type:"STOP_FOCUS_SESSION"})}},[]),n.createElement(n.Fragment,null,a>=v&&n.createElement("div",{className:l.a["focus-session-achieved"]},n.createElement("header",null,n.createElement("img",{src:_.a,className:l.a.logo,alt:"clearminute logo"})),n.createElement("main",null,a>=p&&n.createElement("h2",{className:l.a.title},u(a-v)," ",n.createElement("br",null)," bonus")),n.createElement("section",{className:l.a.buttons},n.createElement("button",{className:[l.a.button,l.a["button-break"]].join(" "),onClick:function(){return m({view:"HOME"})}},"Take a break"),n.createElement("button",{className:[l.a.button,l.a["button-configure"]].join(" "),onClick:function(){chrome.tabs.create({url:"https://clearminute-151818.appspot.com/#/activities"})}},"Configure Apps"))),a<v&&n.createElement("div",{className:l.a["focus-session-progress"]},n.createElement("header",null,n.createElement("img",{src:_.a,className:l.a.logo,alt:"clearminute logo"})),n.createElement("main",null,a>=p&&n.createElement("h2",{className:l.a.title},v-a,"s ",n.createElement("br",null)," remaining"),a>0&&a<p&&n.createElement("h2",{className:l.a.title},s," ",n.createElement("br",null)," remaining")),n.createElement("section",{className:l.a.buttons},n.createElement("button",{className:[l.a.button,l.a["button-cancel"]].join(" "),onClick:function(){return m({view:"HOME"})}},"Cancel Session"),n.createElement("button",{className:[l.a.button,l.a["button-configure"]].join(" "),onClick:function(){chrome.tabs.create({url:"https://clearminute-151818.appspot.com/#/activities"})}},"Configure Apps"))))}var h=a(8),g=a.n(h),b={focusTime:0};function T(e,t){switch(t.type){case"SET_TODAY_FOCUS_TIME":return{focusTime:t.value};default:throw new Error}}function O(){var e=Object(n.useReducer)(T,b),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(Y),i=Object(o.a)(s,2)[1],r=u(a.focusTime);return Object(n.useEffect)(function(){chrome.runtime.sendMessage(E,{type:"GET_TODAY_FOCUS_TIME"},function(e){c({type:"SET_TODAY_FOCUS_TIME",value:e.value})})},[]),n.createElement("div",{className:g.a.container},n.createElement("h3",{className:g.a.title}," DEEP FOCUS TODAY "),n.createElement("h1",{className:g.a.focusTime}," ",r),n.createElement("p",{className:g.a.description},"Let's get started with ",n.createElement("br",null)," your first session today!"),n.createElement("button",{className:g.a.button,onClick:function(){return i({type:"SET_VIEW",view:"FOCUS_SESSION"})}},"Quick Start"))}var y=a(2),N=a.n(y),S=a(5),C=a.n(S),j=a(12),I=a.n(j),k=a(51),w=a.n(k);function D(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 0===t?a:e/t}var M="productive",A="slightlyProductive",P="neutral",x="slightlyDistracting",U="distracting",F="unassigned";var H=function(e){var t=e.productive,a=e.neutral,n=e.distracting,c=e.slightlyDistracting,s=e.slightlyProductive,i=e.unassigned,o=1*t.totalTime+.75*s.totalTime+.5*(a.totalTime+i.totalTime)+.25*c.totalTime,r=t.totalTime+s.totalTime+a.totalTime+c.totalTime+n.totalTime+i.totalTime;return"".concat(parseInt(100*(0===r?.5:o/r),10))};function R(){var e=Object(n.useState)(50),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(n.useEffect)(function(){var e={from:(new Date).setHours(0,0,0,0),until:(new Date).setHours(23,59,59,59)};chrome.runtime.sendMessage(E,{type:"LOAD_STATS",message:e},function(e){var t=function(e){var t=0,a=0,n=0,c=0,s=0,i=0;I()(e,function(e){I()(e,function(e){I()(e,function(e){I()(e,function(e){t+=C()(e,M,0),s+=C()(e,A,0),a+=C()(e,P,0),n+=C()(e,U,0),i+=C()(e,x,0),c+=C()(e,F,0)})})})});var o=t+a+n+i+c+s,r=w()(D,o);return{totalTime:o,productive:{totalTime:t,percentage:r(t)},slightlyProductive:{totalTime:s,percentage:r(s)},neutral:{totalTime:a,percentage:r(a)},unassigned:{totalTime:c,percentage:r(c)},slightlyDistracting:{totalTime:i,percentage:r(i)},distracting:{totalTime:n,percentage:r(n)}}}(e.statsByHour),a=H(t);c(a),l(e.topActivities)})},[]),n.createElement("div",{className:N.a.container},n.createElement("h3",{className:N.a.title}," PRODUCTIVITY SCORE "),n.createElement("h1",{className:N.a["productivity-score"]}," ",a,"% "),n.createElement("h4",{className:N.a.subtitle}," TOP ACTIVITIES TODAY "),n.createElement("ul",{className:N.a.activities},r.slice(0,3).map(function(e){return n.createElement("li",{className:[N.a.activity].join(" ")},n.createElement("div",{className:[N.a.activityDot,N.a[e.productivityKey]].join(" ")}),n.createElement("div",{className:N.a.activityTitle}," ",e.title," "),n.createElement("div",{className:N.a.activityTime}," ",u(e.seconds)," "))})),n.createElement("a",{className:N.a.link,href:f?"https://clearminute-151818.appspot.com/":"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"},"OPEN DASHBOARD TO SEE MORE"))}var W=a(6),G=a.n(W);function V(){return n.createElement("div",{className:G.a.home},n.createElement("header",{className:G.a.header},n.createElement("img",{src:_.a,className:G.a.logo,alt:"clearminute logo"}),n.createElement("h2",{className:G.a.title},n.createElement("span",{className:G.a.thin},"clear"),"minute")),n.createElement("main",{className:G.a.main},n.createElement(O,null),n.createElement(R,null)))}var Y=c.a.createContext();function X(e,t){if(t.type="SET_VIEW")return{view:t.view}}var J=function(){var e=Object(n.useReducer)(X,{view:""}),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)(function(){chrome.runtime.sendMessage(E,{type:"GET_VIEW"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"HOME"};s({type:"SET_VIEW",view:e.value})})},[]),c.a.createElement(Y.Provider,{value:[a,s]},!f&&"DEVELOPMENT","HOME"===a.view&&c.a.createElement(V,null),"FOCUS_SESSION"===a.view&&c.a.createElement(d,null))};i.a.render(c.a.createElement(J,null),document.getElementById("root"))},2:function(e,t,a){e.exports={container:"stats_container__oCHiJ",title:"stats_title__X19B8","productivity-score":"stats_productivity-score__24X9F",description:"stats_description__3cwTk",link:"stats_link__4nWXI",subtitle:"stats_subtitle__bmGD2",activities:"stats_activities__1IrQk",activity:"stats_activity__1P2Sm",activityTitle:"stats_activityTitle__2USwW",activityTime:"stats_activityTime__T3PZu",productive:"stats_productive__3fpg7",slightlyProductive:"stats_slightlyProductive__1XCWj",distracting:"stats_distracting__Dfyxq",neutral:"stats_neutral__KlYoI",activityDot:"stats_activityDot__14zh7"}},52:function(e,t,a){e.exports=a(148)},57:function(e,t,a){},6:function(e,t,a){e.exports={home:"home_home__3JAmW",main:"home_main__1y6Mr",header:"home_header__eMAwu",logo:"home_logo__3AjCd",title:"home_title__3joff",thin:"home_thin__pm8GN"}},8:function(e,t,a){e.exports={container:"focus_container__3ax7R",title:"focus_title__2s14H",focusTime:"focus_focusTime__1G_yX",description:"focus_description__3ey62",button:"focus_button__1CyiG",link:"focus_link__1d-Mj"}}},[[52,1,2]]]);
//# sourceMappingURL=main.d9ce0b4d.chunk.js.map
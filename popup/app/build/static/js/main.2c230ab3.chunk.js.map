{"version":3,"sources":["focus-session.module.css","logo.svg","utils/convertToDisplayTime.js","constants.js","FocusSession.js","Focus.js","utils/helpers.js","utils/constants.js","utils/calculateProductivity.js","Stats.js","utils/createGaugeStats.js","Home.js","App.js","index.js","stats.module.css","focus.module.css","home.module.css"],"names":["module","exports","focus-session-progress","focus-session-achieved","logo","buttons","title","button","button-cancel","button-break","button-configure","__webpack_require__","p","convertToDisplayTime","seconds","arguments","length","undefined","hours","Math","floor","minutes","concat","isProduction","chrome","runtime","id","extensionId","SESSION_TIME","COUNTDOWN_TIME","FocusSession","_useState","useState","_useState2","Object","slicedToArray","focusTime","setFocusTime","focus","_useContext","useContext","AppContext","_useContext2","appDispatch","useEffect","interval","setInterval","sendMessage","type","response","value","clearInterval","react","className","styles","src","alt","join","onClick","view","tabs","create","url","initialState","reducer","state","action","Error","Focus","_useReducer","useReducer","_useReducer2","dispatch","container","description","link","href","target","rel","calculatePercentage","part","total","defaultValue","PRODUCTIVE_KEY","SLIGHTLY_PRODUCTIVE_KEY","NEUTRAL_KEY","SLIGHTLY_DISTRACTING_KEY","DISTRACTING_KEY","UNASSIGNED_KEY","calculateProductivity","gaugeStats","productive","neutral","distracting","slightlyDistracting","slightlyProductive","unassigned","productiveTime","totalTime","parseInt","Stats","productivityScore","setProductivityScore","_useState3","_useState4","topActivities","setTopActivities","statsOptions","from","Date","setHours","until","console","log","message","stats","totalProductiveTime","totalNeutralTime","totalDistractingTime","totalUnassignedTime","totalSlightlyProductiveTime","totalSlightlyDistractingTime","each","yearStats","monthStats","dayStats","hourStats","get","calculatePercentageFromTotalTime","partialRight","percentage","createGaugeStats","productivity","subtitle","activities","slice","map","activity","activityDot","productivityKey","activityTitle","activityTime","Home","home","header","thin","main","React","createContext","App","react_default","a","createElement","Provider","ReactDOM","render","src_App","document","getElementById","productivity-score"],"mappings":"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","file":"static/js/main.2c230ab3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"focus-session-progress\":\"focus-session_focus-session-progress__3Cnlh\",\"focus-session-achieved\":\"focus-session_focus-session-achieved__39qW8\",\"logo\":\"focus-session_logo__3_HPX\",\"buttons\":\"focus-session_buttons__y8zny\",\"title\":\"focus-session_title__364AJ\",\"button\":\"focus-session_button__2CpNl\",\"button-cancel\":\"focus-session_button-cancel__2xCNz\",\"button-break\":\"focus-session_button-break__3ql7f\",\"button-configure\":\"focus-session_button-configure__2Nsa1\"};","module.exports = __webpack_public_path__ + \"static/media/logo.083d77cc.svg\";","export default function convertToDisplayTime(seconds = 0) {\n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n\n  const displayTime = hours ? `${hours}h ${minutes}m` : `${minutes}m`;\n\n  return displayTime;\n}\n","/* global chrome */\nexport const extensionId_DEV = 'jnageejbpihkkjocjeiiohnednodaici';\nexport const extensionId_PROD = 'pcenfiemkfldlchmgcohjkfhppckocne';\n\nexport const isProduction = chrome.runtime.id === extensionId_PROD;\n\nexport const extensionId = chrome.runtime.id || extensionId_DEV;\n","/* global chrome */\nimport * as React from 'react';\nimport { useEffect, useState, useContext } from 'react';\nimport styles from './focus-session.module.css';\nimport convertToDisplayTime from './utils/convertToDisplayTime';\nimport logo from './logo.svg';\nimport { AppContext } from './App';\nimport { extensionId } from './constants';\n\nconst SESSION_TIME = 30 * 60; // 30 minutes\nconst COUNTDOWN_TIME = 29 * 60 + 30; // 29.5 minutes start countdown\n\nexport default function FocusSession() {\n  const [focusTime, setFocusTime] = useState(0);\n  const focus = convertToDisplayTime(SESSION_TIME - focusTime);\n  const [appState, appDispatch] = useContext(AppContext);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      chrome.runtime.sendMessage(extensionId, { type: 'GET_CURRENT_FOCUS_SESSION_TIME' }, function(\n        response\n      ) {\n        setFocusTime(response.value);\n      });\n    }, 500);\n    chrome.runtime.sendMessage(extensionId, { type: 'START_FOCUS_SESSION' });\n\n    return () => {\n      clearInterval(interval);\n      chrome.runtime.sendMessage(extensionId, { type: 'STOP_FOCUS_SESSION' });\n    };\n  }, []);\n\n  return (\n    <>\n      {focusTime >= SESSION_TIME && (\n        <div className={styles['focus-session-achieved']}>\n          <header>\n            <img src={logo} className={styles.logo} alt=\"clearminute logo\" />\n          </header>\n          <main>\n            {focusTime >= COUNTDOWN_TIME && (\n              <h2 className={styles.title}>\n                {convertToDisplayTime(focusTime - SESSION_TIME)} <br /> bonus\n              </h2>\n            )}\n          </main>\n          <section className={styles.buttons}>\n            <button\n              className={[styles.button, styles['button-break']].join(' ')}\n              onClick={() => appDispatch({ view: 'HOME' })}\n            >\n              Take a break\n            </button>\n            <button\n              className={[styles.button, styles['button-configure']].join(' ')}\n              onClick={() => {\n                chrome.tabs.create({ url: 'https://light.clearminute.com/#/activities' });\n              }}\n            >\n              Configure Apps\n            </button>\n          </section>\n        </div>\n      )}\n      {focusTime < SESSION_TIME && (\n        <div className={styles['focus-session-progress']}>\n          <header>\n            <img src={logo} className={styles.logo} alt=\"clearminute logo\" />\n          </header>\n          <main>\n            {focusTime >= COUNTDOWN_TIME && (\n              <h2 className={styles.title}>\n                {SESSION_TIME - focusTime}s <br /> remaining\n              </h2>\n            )}\n            {focusTime > 0 && focusTime < COUNTDOWN_TIME && (\n              <h2 className={styles.title}>\n                {focus} <br /> remaining\n              </h2>\n            )}\n          </main>\n          <section className={styles.buttons}>\n            <button\n              className={[styles.button, styles['button-cancel']].join(' ')}\n              onClick={() => appDispatch({ view: 'HOME' })}\n            >\n              Cancel Session\n            </button>\n            <button\n              className={[styles.button, styles['button-configure']].join(' ')}\n              onClick={() => {\n                chrome.tabs.create({ url: 'https://light.clearminute.com/#/activities' });\n              }}\n            >\n              Configure Apps\n            </button>\n          </section>\n        </div>\n      )}\n    </>\n  );\n}\n","/* global chrome */\nimport * as React from 'react';\nimport { useReducer, useEffect, useContext } from 'react';\nimport styles from './focus.module.css';\nimport convertToDisplayTime from './utils/convertToDisplayTime';\nimport { AppContext } from './App';\nimport { extensionId } from './constants';\n\nconst initialState = { focusTime: 0 };\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SET_TODAY_FOCUS_TIME':\n      return { focusTime: action.value };\n    default:\n      throw new Error();\n  }\n}\n\nexport default function Focus() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [, appDispatch] = useContext(AppContext);\n\n  const focusTime = convertToDisplayTime(state.focusTime);\n  useEffect(() => {\n    chrome.runtime.sendMessage(extensionId, { type: 'GET_TODAY_FOCUS_TIME' }, function(response) {\n      dispatch({ type: 'SET_TODAY_FOCUS_TIME', value: response.value });\n    });\n  }, []);\n\n  return (\n    <div className={styles.container}>\n      <h3 className={styles.title}> DEEP FOCUS TODAY </h3>\n      <h1 className={styles.focusTime}> {focusTime}</h1>\n      <p className={styles.description}>\n        Let's get started with <br /> your first session today!\n      </p>\n      <button className={styles.button} onClick={() => appDispatch({ type: 'SET_VIEW', view: 'FOCUS_SESSION' })}>\n        Quick Start\n      </button>\n      <a\n        className={styles.link}\n        href=\"https://www.clearminute.com/blog/posts/uninterrupted-focus\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        WHY DO I NEED DEEP FOCUS?\n      </a>\n    </div>\n  );\n}\n","export function calculatePercentage(part, total, defaultValue = 0) {\n  // eslint-disable-line import/prefer-default-export, max-len\n  if (total === 0) {\n    return defaultValue;\n  }\n\n  return part / total;\n}\n","export const PRODUCTIVE_KEY = 'productive';\nexport const SLIGHTLY_PRODUCTIVE_KEY = 'slightlyProductive';\nexport const NEUTRAL_KEY = 'neutral';\nexport const SLIGHTLY_DISTRACTING_KEY = 'slightlyDistracting';\nexport const DISTRACTING_KEY = 'distracting';\nexport const UNASSIGNED_KEY = 'unassigned';","export default gaugeStats => {\n  const {\n    productive,\n    neutral,\n    distracting,\n    slightlyDistracting,\n    slightlyProductive,\n    unassigned\n  } = gaugeStats;\n\n  const productiveTime =\n    1 * productive.totalTime +\n    0.75 * slightlyProductive.totalTime +\n    0.5 * (neutral.totalTime + unassigned.totalTime) +\n    0.25 * slightlyDistracting.totalTime;\n\n  const totalTime =\n    productive.totalTime +\n    slightlyProductive.totalTime +\n    neutral.totalTime +\n    slightlyDistracting.totalTime +\n    distracting.totalTime +\n    unassigned.totalTime;\n\n  const score = totalTime === 0 ? 0.5 : productiveTime / totalTime;\n\n  return `${parseInt(score * 100, 10)}`;\n};\n","/* global chrome */\nimport * as React from 'react';\nimport styles from './stats.module.css';\nimport { useEffect, useState } from 'react';\nimport { extensionId, isProduction } from './constants';\nimport createGaugeStats from './utils/createGaugeStats';\nimport calculateProductivity from './utils/calculateProductivity';\nimport convertToDisplayTime from './utils/convertToDisplayTime';\n\nexport default function Stats() {\n  const [productivityScore, setProductivityScore] = useState(50);\n  const [topActivities, setTopActivities] = useState([]);\n\n  useEffect(() => {\n    const statsOptions = {\n      from: new Date().setHours(0, 0, 0, 0),\n      until: new Date().setHours(23, 59, 59, 59)\n    };\n\n    console.log('send message from popup!');\n    chrome.runtime.sendMessage(\n      extensionId,\n      {\n        type: 'LOAD_STATS',\n        message: statsOptions\n      },\n      function(response) {\n        const gaugeStats = createGaugeStats(response['statsByHour']);\n        const productivity = calculateProductivity(gaugeStats);\n        setProductivityScore(productivity);\n        setTopActivities(response.topActivities);\n      }\n    );\n  }, []);\n\n  console.log(topActivities);\n  return (\n    <div className={styles.container}>\n      <h3 className={styles.title}> PRODUCTIVITY SCORE </h3>\n      <h1 className={styles['productivity-score']}> {productivityScore}% </h1>\n      {/* <p className={styles.description}>You're on a good path!</p> */}\n      <h4 className={styles.subtitle}> TOP ACTIVITIES TODAY </h4>\n      <ul className={styles.activities}>\n        {topActivities.slice(0, 3).map(activity => (\n          <li className={[styles.activity].join(' ')}>\n            <div className={[styles.activityDot, styles[activity.productivityKey]].join(' ')} />\n            <div className={styles.activityTitle}> {activity.title} </div>\n            <div className={styles.activityTime}> {convertToDisplayTime(activity.seconds)} </div>\n          </li>\n        ))}\n      </ul>\n      <a\n        className={styles.link}\n        href={isProduction ? 'https://light.clearminute.com' : 'http://localhost:8080/'}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        OPEN DASHBOARD TO SEE MORE\n      </a>\n    </div>\n  );\n}\n","import get from 'lodash/get';\nimport each from 'lodash/each';\nimport partialRight from 'lodash/partialRight';\n\n// Internals (A-z)\nimport { calculatePercentage } from './helpers';\nimport {\n  PRODUCTIVE_KEY,\n  NEUTRAL_KEY,\n  DISTRACTING_KEY,\n  SLIGHTLY_DISTRACTING_KEY,\n  SLIGHTLY_PRODUCTIVE_KEY,\n  UNASSIGNED_KEY\n} from './constants.js';\n\nexport default function createGaugeStats(stats) {\n  let totalProductiveTime = 0.0;\n  let totalNeutralTime = 0.0;\n  let totalDistractingTime = 0.0;\n  let totalUnassignedTime = 0.0;\n  let totalSlightlyProductiveTime = 0.0;\n  let totalSlightlyDistractingTime = 0.0;\n\n  each(stats, yearStats => {\n    each(yearStats, monthStats => {\n      each(monthStats, dayStats => {\n        each(dayStats, hourStats => {\n          totalProductiveTime += get(hourStats, PRODUCTIVE_KEY, 0);\n          totalSlightlyProductiveTime += get(hourStats, SLIGHTLY_PRODUCTIVE_KEY, 0);\n          totalNeutralTime += get(hourStats, NEUTRAL_KEY, 0);\n          totalDistractingTime += get(hourStats, DISTRACTING_KEY, 0);\n          totalSlightlyDistractingTime += get(hourStats, SLIGHTLY_DISTRACTING_KEY, 0);\n          totalUnassignedTime += get(hourStats, UNASSIGNED_KEY, 0);\n        });\n      });\n    });\n  });\n\n  const totalTime =\n    totalProductiveTime +\n    totalNeutralTime +\n    totalDistractingTime +\n    totalSlightlyDistractingTime +\n    totalUnassignedTime +\n    totalSlightlyProductiveTime;\n\n  const calculatePercentageFromTotalTime = partialRight(calculatePercentage, totalTime);\n\n  const result = {\n    totalTime,\n    productive: {\n      totalTime: totalProductiveTime,\n      percentage: calculatePercentageFromTotalTime(totalProductiveTime)\n    },\n    slightlyProductive: {\n      totalTime: totalSlightlyProductiveTime,\n      percentage: calculatePercentageFromTotalTime(totalSlightlyProductiveTime)\n    },\n    neutral: {\n      totalTime: totalNeutralTime,\n      percentage: calculatePercentageFromTotalTime(totalNeutralTime)\n    },\n    unassigned: {\n      totalTime: totalUnassignedTime,\n      percentage: calculatePercentageFromTotalTime(totalUnassignedTime)\n    },\n    slightlyDistracting: {\n      totalTime: totalSlightlyDistractingTime,\n      percentage: calculatePercentageFromTotalTime(totalSlightlyDistractingTime)\n    },\n    distracting: {\n      totalTime: totalDistractingTime,\n      percentage: calculatePercentageFromTotalTime(totalDistractingTime)\n    }\n  };\n\n  return result;\n}\n","/* global chrome */\nimport * as React from 'react';\nimport Focus from './Focus';\nimport Stats from './Stats';\nimport styles from './home.module.css';\nimport logo from './logo.svg';\n\nexport default function Home() {\n  return (\n    <div className={styles.home}>\n      <header className={styles.header}>\n        <img src={logo} className={styles.logo} alt=\"clearminute logo\" />\n        <h2 className={styles.title}>\n          <span className={styles.thin}>clear</span>minute\n        </h2>\n      </header>\n      <main className={styles.main}>\n        <Focus />\n        <Stats />\n      </main>\n    </div>\n  );\n}\n","/* global chrome */\nimport React from 'react';\nimport { useReducer, useEffect, useState } from 'react';\nimport FocusSession from './FocusSession';\nimport Home from './Home';\nimport { extensionId, isProduction } from './constants';\n\nexport const AppContext = React.createContext();\n\nfunction reducer(state, action) {\n  if ((action.type = 'SET_VIEW')) {\n    return { view: action.view };\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, { view: '' });\n\n  useEffect(() => {\n    chrome.runtime.sendMessage(extensionId, { type: 'GET_VIEW' }, function(\n      response = { value: 'HOME' }\n    ) {\n      dispatch({ type: 'SET_VIEW', view: response.value });\n    });\n  }, []);\n\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {!isProduction && 'DEVELOPMENT'}\n      {state.view === 'HOME' && <Home />}\n      {state.view === 'FOCUS_SESSION' && <FocusSession />}\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your App to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"stats_container__oCHiJ\",\"title\":\"stats_title__X19B8\",\"productivity-score\":\"stats_productivity-score__24X9F\",\"description\":\"stats_description__3cwTk\",\"link\":\"stats_link__4nWXI\",\"subtitle\":\"stats_subtitle__bmGD2\",\"activities\":\"stats_activities__1IrQk\",\"activity\":\"stats_activity__1P2Sm\",\"activityTitle\":\"stats_activityTitle__2USwW\",\"activityTime\":\"stats_activityTime__T3PZu\",\"productive\":\"stats_productive__3fpg7\",\"slightlyProductive\":\"stats_slightlyProductive__1XCWj\",\"distracting\":\"stats_distracting__Dfyxq\",\"neutral\":\"stats_neutral__KlYoI\",\"activityDot\":\"stats_activityDot__14zh7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"focus_container__3ax7R\",\"title\":\"focus_title__2s14H\",\"focusTime\":\"focus_focusTime__1G_yX\",\"description\":\"focus_description__3ey62\",\"button\":\"focus_button__1CyiG\",\"link\":\"focus_link__1d-Mj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__3JAmW\",\"main\":\"home_main__1y6Mr\",\"header\":\"home_header__eMAwu\",\"logo\":\"home_logo__3AjCd\",\"title\":\"home_title__3joff\",\"thin\":\"home_thin__pm8GN\"};"],"sourceRoot":""}